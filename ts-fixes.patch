--- a/app/api/billing/webhook/route.ts
+++ b/app/api/billing/webhook/route.ts
@@ -105,6 +105,7 @@ async function handleSubscriptionCreated(supabase: SupabaseClient, sub: Stripe.Su
   const userId = sub.metadata?.user_id;
   if (!userId) return;
+  const stripeSub = sub as { current_period_start: number; current_period_end: number };
 
   await supabase.from("subscriptions").upsert({
     user_id: userId,
@@ -112,8 +113,8 @@ async function handleSubscriptionCreated(supabase: SupabaseClient, sub: Stripe.Su
     stripe_customer_id: typeof sub.customer === "string" ? sub.customer : sub.customer.id,
     status: sub.status,
-    current_period_start: new Date(sub.current_period_start * 1000).toISOString(),
-    current_period_end: new Date(sub.current_period_end * 1000).toISOString(),
+    current_period_start: new Date(stripeSub.current_period_start * 1000).toISOString(),
+    current_period_end: new Date(stripeSub.current_period_end * 1000).toISOString(),
     cancel_at_period_end: sub.cancel_at_period_end,
     trial_end: sub.trial_end ? new Date(sub.trial_end * 1000).toISOString() : null,
     updated_at: new Date().toISOString(),
